<html xmlns:concordion="http://www.concordion.org/2007/concordion">
<head>
    <link href="../../concordion.css" rel="stylesheet" type="text/css" />
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
</head>

<body>

   <h1>Send email</h1>

   <p>As a gmail user, I want to be able to send emails, so that I can communicate with others.</p>

   <div concordion:example="send email">
     <h3>Example</h3>

     <p>Given that I am logged into my gmail account, when I send an email with the following conditions,
       then I should be shown an outcome message indicating whether my email has been sent or not.</p>

       <table>
         <tr>
           <th>To address</th>
           <th>Subject</th>
           <th>Email body</th>
           <th>Outcome message</th>
         </tr>
         <tr>
           <td concordion:set="#to">validAddress@mailinator.com</td>
           <td concordion:set="#subject">Test subject</td>
           <td concordion:set="#body">Test email body</td>
           <td concordion:assert-equals="sendEmail(#to,#subject,#body,#TEXT)">Your message has been sent</td>
         </tr>
         <tr>
           <td concordion:set="#to">invalidAddress</td>
           <td concordion:set="#subject">Test subject</td>
           <td concordion:set="#body">Test email body</td>
           <td concordion:assert-equals="sendEmail(#to,#subject,#body,#TEXT)">Please make sure that all addresses are properly formed</td>
         </tr>
         <tr>
           <td concordion:set="#to"></td>
           <td concordion:set="#subject">Test subject</td>
           <td concordion:set="#body">Test email body</td>
           <td concordion:assert-equals="sendEmail(#to,#subject,#body,#TEXT)">Please specify at least one recipient</td>
         </tr>
         <tr>
           <td concordion:set="#to">validAddress@mailinator.com</td>
           <td concordion:set="#subject"></td>
           <td concordion:set="#body">Test email body</td>
           <td concordion:assert-equals="sendEmail(#to,#subject,#body,#TEXT)">Your message has been sent</td>
         </tr>
         <tr>
           <td>validAddress@mailinator.com</td>
           <td concordion:set="#subject">Test subject</td>
           <td concordion:set="#body"></td>
           <td concordion:assert-equals="sendEmail(#to,#subject,#body,#TEXT)">Your message has been sent</td>
         </tr>
       </table>
   </div>

</body>
</html>

<!-- OLD MARKDOWN VERSION

# Send email
As a gmail user, I want to be able to send emails, so that I can communicate with others.

### Example: [email sends successfully](-)
Given that I am [logged into my gmail account](- "login()"), when I send an email with a valid to address ([hello@mailinator.com](- "#to")), [subject](- "#subject") and [email body]( - "#body") [ ](- "#result = sendEmail(#to,#subject,#body)"), then the text '[Your message has been sent](- "?=#result")' should show up on the page.

### Example: [warning shown](-)
Given that I am logged into my gmail account, when I send an email with the following conditions, then I should be shown a warning pop up.

| To address           | Subject           | Email body                       | Outcome |
| [invalid](- "#to")   | [Test subject](- "#subject")     | [Test email body]( - "#body") [ ](- "#result = sendEmail(#to,#subject,#body)") | [Can't send](- "?=#result")   |
|                      | Test subject      | Test email body                  | Can't send  |
| hello@mailinator.com |                   | Test email body                  | Are you sure |
| hello@mailinator.com | Test subject      |                                  | Are you sure] |

[to]: - "#to"
[subject]: - "#subject"
[body]: - "#body"
[send]: - "#result = sendEmail(#to,#subject,#body)"
[checkResult]: - "?=#result"
-->
